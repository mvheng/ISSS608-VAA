{
  "hash": "fd921166930c443750b9779474f5fae9",
  "result": {
    "markdown": "---\ntitle: \"Hands-on Exercise 1: A Layered Grammar of Graphics\"\nauthor: \"Vanessa Heng\"\ndate: \"January 9, 2024\"\ndate-modified: \"last-modified\"\nexecute:\n  eval: true\n  echo: true\n  freeze: true\n  warning: false\n  message: false\neditor: visual\n---\n\n\n# 1 Getting Started\n\n## 1.1 Installing and launching R packages\n\nThe code below uses p_load() of the pacman package to check if tidyverse packages are installed in the laptop. If they are, then they will be launched into R.\n\n\n::: {.cell}\n\n```{.r .cell-code}\npacman::p_load(tidyverse)\n```\n:::\n\n\n## 1.2 Importing the data\n\nLet's use read_csv function of [readr](https://readr.tidyverse.org/) package to load the data from *Exam_data.csv* into R.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nexam_data <- read_csv(\"data/Exam_data.csv\")\n```\n:::\n\n\n# 2 Exploratory Data Analysis\n\nLet's understand more of the data given.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(exam_data)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n      ID               CLASS              GENDER              RACE          \n Length:322         Length:322         Length:322         Length:322        \n Class :character   Class :character   Class :character   Class :character  \n Mode  :character   Mode  :character   Mode  :character   Mode  :character  \n                                                                            \n                                                                            \n                                                                            \n    ENGLISH          MATHS          SCIENCE     \n Min.   :21.00   Min.   : 9.00   Min.   :15.00  \n 1st Qu.:59.00   1st Qu.:58.00   1st Qu.:49.25  \n Median :70.00   Median :74.00   Median :65.00  \n Mean   :67.18   Mean   :69.33   Mean   :61.16  \n 3rd Qu.:78.00   3rd Qu.:85.00   3rd Qu.:74.75  \n Max.   :96.00   Max.   :99.00   Max.   :96.00  \n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(exam_data, 5)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 5 Ã— 7\n  ID         CLASS GENDER RACE    ENGLISH MATHS SCIENCE\n  <chr>      <chr> <chr>  <chr>     <dbl> <dbl>   <dbl>\n1 Student321 3I    Male   Malay        21     9      15\n2 Student305 3I    Female Malay        24    22      16\n3 Student289 3H    Male   Chinese      26    16      16\n4 Student227 3F    Male   Chinese      27    77      31\n5 Student318 3I    Male   Malay        27    11      25\n```\n:::\n:::\n\n\n::: callout-tip\n## Observations\n\n1.  This data is about students' examination scores for their 3 subjects (English, Maths, and Science) from various classes in Primary 3 from a school.\n\n2.  There are 4 categorical variables: ID, CLASS, GENDER, and RACE, and 3 continuous variables: ENGLISH, MATHS, and SCIENCE.\n\n3.  Out of the 3 subjects, Maths has the higher mean and median score.\n:::\n\n## 2.1 Examination scores distribution\n\nLet's create boxplots for the performance of 3 subjects and arrange them in a row for easy comparison.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(\"ggpubr\")\nboxplt1 <- ggplot(data = exam_data,   \n  aes(y = MATHS)) +   \n  geom_boxplot() \nboxplt2 <- ggplot(data = exam_data,   \n  aes(y = ENGLISH)) +   \n  geom_boxplot()\nboxplt3 <- ggplot(data = exam_data,   \n  aes(y = SCIENCE)) +   \n  geom_boxplot()\nggarrange(boxplt1, boxplt2, boxplt3, ncol = 3, nrow = 1)\n```\n\n::: {.cell-output-display}\n![](Hands-on_Ex01_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\n::: callout-tip\n## Observation\n\nStudents did better in Maths as compared to English and Science. There are some outliers in Maths and English boxplots where students did very poorly.\n:::\n\nLet's dive a little deeper to see how each class performs.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = exam_data,   \n  aes(x = CLASS, y = MATHS)) +   \n  geom_boxplot()+\n  stat_summary(geom = \"point\",       \n               fun = \"mean\",         \n               colour = \"red\",        \n               size = 3) \n```\n\n::: {.cell-output-display}\n![](Hands-on_Ex01_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(data = exam_data,   \n  aes(x = CLASS, y = ENGLISH)) +   \n  geom_boxplot() +\n  stat_summary(geom = \"point\",       \n               fun = \"mean\",         \n               colour = \"red\",        \n               size = 3) \n```\n\n::: {.cell-output-display}\n![](Hands-on_Ex01_files/figure-html/unnamed-chunk-6-2.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(data = exam_data,   \n  aes(x = CLASS, y = SCIENCE)) +   \n  geom_boxplot() +\n  stat_summary(geom = \"point\",       \n               fun = \"mean\",         \n               colour = \"red\",        \n               size = 3) \n```\n\n::: {.cell-output-display}\n![](Hands-on_Ex01_files/figure-html/unnamed-chunk-6-3.png){width=672}\n:::\n:::\n\n\n::: callout-tip\n## Observations\n\n1.  There are 9 classes in this dataset.\n\n2.  Students from Class 3I have poorer performance in all 3 subjects (many failed 3 subjects), whereas students from Class 3A have better performance in all 3 subjects.\n:::\n\n## 2.2 Race distribution\n\nLet's take a look at the students' race distribution:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = exam_data, \n       aes(x = fct_infreq(RACE))) +\n  geom_bar() +\n  labs(title=\"Distribution of race\",\n       x = \"Race\",\n       y = \"Number of students\") + \n  ylim(0, 210) +\n  geom_text(aes(label = after_stat(count)), \n            stat = \"count\", vjust = -0.5, colour = \"brown\")\n```\n\n::: {.cell-output-display}\n![](Hands-on_Ex01_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\n::: callout-tip\n## Observation\n\nFrom the bar chart above, the majority of the students are Chinese, followed by Malay.\n:::\n\nWhat about the race distribution in each class?\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = exam_data) +\n  geom_bar(mapping = aes(x =CLASS, fill = RACE))\n```\n\n::: {.cell-output-display}\n![](Hands-on_Ex01_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\n::: callout-tip\n## Observations\n\n1.  Class 3A has more Chinese students whereas Class 3I has more Malay students.\n\n2.  Class 3I has the fewest number of students.\n:::\n\n## 2.3 Gender distribution\n\nLet's take a look at the students' gender distribution:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = exam_data, \n       aes(x = fct_infreq(GENDER))) +\n  geom_bar() +\n  labs(title=\"Distribution of gender\",\n       x = \"Gender\",\n       y = \"Number of students\") + \n  ylim(0, 210) +\n  geom_text(aes(label = after_stat(count)), \n            stat = \"count\", vjust = -0.5, colour = \"brown\")\n```\n\n::: {.cell-output-display}\n![](Hands-on_Ex01_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n\n::: callout-tip\n## Observation\n\nThere are more female students than male students.\n:::\n\nWhat about the distribution of gender in each class?\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = exam_data) +\n  geom_bar(mapping = aes(x =CLASS, fill = GENDER))\n```\n\n::: {.cell-output-display}\n![](Hands-on_Ex01_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n\n\n::: callout-tip\n## Observation\n\nThere are more female students in Class 3B and fewer female students in Class 3I.\n:::\n\n## 2.4 Correlation between performances of different subjects\n\nLet's see if there is any correlation between the performance of Maths vs English, Maths vs Science, and English vs Science via scatter plots.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data=exam_data,\n  aes(x = MATHS,y = ENGLISH)) +\n  geom_point() + \n  geom_smooth(linewidth = 0.5) +\n  # use the same axis range\n  coord_cartesian(xlim=c(0,100),\n                  ylim=c(0,100))\n```\n\n::: {.cell-output-display}\n![](Hands-on_Ex01_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(data=exam_data,\n  aes(x = MATHS,y = SCIENCE)) +\n  geom_point() + \n  geom_smooth(linewidth = 0.5) +\n  coord_cartesian(xlim=c(0,100),\n                  ylim=c(0,100))\n```\n\n::: {.cell-output-display}\n![](Hands-on_Ex01_files/figure-html/unnamed-chunk-11-2.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(data=exam_data,\n  aes(x = ENGLISH, y = SCIENCE)) +\n  geom_point() + \n  geom_smooth(linewidth = 0.5) +\n  coord_cartesian(xlim=c(0,100),\n                  ylim=c(0,100))\n```\n\n::: {.cell-output-display}\n![](Hands-on_Ex01_files/figure-html/unnamed-chunk-11-3.png){width=672}\n:::\n:::\n\n\n::: callout-tip\n## Observations\n\nAll 3 scatter plots show some positive correlation between the performances of the subjects. However, we would need to calculate the correlation coefficients to determine how strong the correlations are.\n:::\n",
    "supporting": [
      "Hands-on_Ex01_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}